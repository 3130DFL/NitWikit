---
sidebar_position: 5
---

# 数据库安装

本部分讲解在命令行中安装常见数据库的方式。

## MySQL

本教程以Ubuntu24.04系统为例

在[官方网站](https://dev.mysql.com/downloads/repo/apt/)页面下载 mysql-apt-config_0.8.301_all.deb

将文件传入服务器/opt目录下，然后安装，输入：

```
dpkg -i mysql-apt-config_0.8.30-1_all.deb
```

安装完成后使用 `apt update` 更新软件包列表

然后 `apt install mysql-community-server -y`

安装完成后输入 `mysqld --initialize –console` 查看初始密码

红框部分就是初始密码

输入 `systemctl start mysql` 来启动mysql服务

然后输入 `mysql -uroot -p` 按提示输入密码登录到mysql

输入这行指令修改密码`ALTER user 'root'@'localhost' IDENTIFIED BY 'NewPassword';`

将NewPassword修改为你自己设置的密码

使用systemctl enable mysql使mysql开机自启(PS:默认自启)

:::tip

附创建数据库和创建数据库用户以及授权

创建数据库：CREATE DATABASE IF NOT EXISTS XXX DEFAULT CHARACTER SET utf8mb4;
(PS:这里的XXX可以选择是你要使用数据库的插件名称也可以是自定义字符)

创建用户：CREATE USER 'UserName'@'%' IDENTIFIED BY 'Password';
(PS:这里UserName填你要创建的用户名，%代表所有IP地址，如果MC服务端和数据库处于同一个服务器，建议改成localhost以增加安全性，password填要创建的用户的密码)

给用户授权数据库权限：GRANT ALL PRIVILEGES ON 数据库名称.* TO 'UserName'@'%';
(PS:和上面那条差不多%可以改成localhost，数据库名称就填你创建的数据库名称就行)
(PS:上述命令中的引号均不可删除，每个命令后面的";"(分号)是命令的一部分)

由于安全性设置，密码必须有大小写长度8位以上，并且默认关闭远程访问
如果需要设置密码强度为低，开启远程访问等不安全的操作请自行百度，对于修改安全设置之后的数据库安全问题，本站概不负责

:::

## Redis

依次在终端输入以下指令，分别操作为安装依赖、下载 Redis、将安装包放在安装路径。更新软件包，安装下载好的 Redis

```
apt install lsb-release curl gpg
curl -fsSL https://packages.redis.io/gpg | sudo gpg --dearmor -o /usr/share/keyrings/redis-archive-keyring.gpg
echo "deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/redis.list
apt update
apt install redis -y
```

安装完成后输入 `systemctl start redis-server`

至此安装完成，输入 `redis-cli` 即可进入命令行管理

:::tip

使用 systemctl enable redis-server 使 Redis 开机自启

:::